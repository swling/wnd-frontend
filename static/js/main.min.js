function wnd_is_mobile(){return!!navigator.userAgent.match(/(iPhone|iPad|iPod|Android|ios|App\/)/i)}function wnd_is_spider(){let e=navigator.userAgent;return!!e.match(/(Googlebot|Baiduspider|spider)/i)}function wnd_remove(e){let t="object"==typeof e?e:document.querySelector(e);t&&(t.outerHTML="")}function wnd_inner_html(e,t){function n(e){const t=document.createElement("script");t.innerHTML=e.innerHTML;const n=e.getAttribute("src");n&&t.setAttribute("src",n),document.body.appendChild(t),document.body.removeChild(t)}let a="object"==typeof e?e:document.querySelector(e);if(!a)return;a.innerHTML=t;const s=a.querySelectorAll("script");for(let e of s)n(e)}function wnd_append(e,t){let n="object"==typeof e?e:document.querySelector(e);n&&n.insertAdjacentHTML("beforeend",t)}function wnd_prepend(e,t){let n="object"==typeof e?e:document.querySelector(e);n&&n.insertAdjacentHTML("afterbegin",t)}function wnd_load_script(e,t){return new Promise(function(n,a){let s=document.createElement("script");s.type="text/javascript",s.src=e,document.head.appendChild(s),s.onload=(()=>{n("function"!=typeof t||t())})})}function wnd_load_style(e){return new Promise(function(t,n){let a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,document.head.appendChild(a),a.onload=(()=>{t(!0)})})}function wnd_loading(e,t=!1){let n="object"==typeof e?e:document.querySelector(e);n&&(n.classList.contains("modal-entry")?n.innerHTML=t?"":loading_el:t?(wnd_remove(n.querySelector(".wnd-loading")),n.style.removeProperty("position")):(n.style.position="relative",wnd_append(n,`<div class="wnd-loading" style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9;background:#FFF;opacity:0.7">${loading_el}</div>`)))}async function wnd_render_form(e,t,n){if("function"!=typeof _wnd_render_form){let e=static_path+"js/form.min.js"+cache_suffix;await wnd_load_script(e)}_wnd_render_form(e,t,n)}async function wnd_qrcode(e,t,n=250){function a(e,t,n){const a=qrcanvas.qrcanvas({data:t,size:n});e.appendChild(a)}if(e="object"==typeof e?e:document.querySelector(e),"undefined"==typeof qrcanvas){let e=static_path+"js/lib/qrcanvas.min.js"+cache_suffix;await wnd_load_script(e)}a(e,t,n)}async function wnd_upload_to_oss(e,t={}){return await wnd_upload_to_oss_dynamic(e,"","",!1,t)}async function wnd_upload_to_oss_direct(e,t,n,a={}){return await wnd_upload_to_oss_dynamic(e,t,n,!0,a)}async function wnd_upload_to_oss_dynamic(e,t,n,a=!0,s={}){if("undefined"==typeof _wnd_upload_to_oss){let e=static_path+"js/file.min.js"+cache_suffix;await wnd_load_script(e)}return _wnd_upload_to_oss(e,t,n,a,s)}async function wnd_delete_oss_file(e,t,n){if("undefined"==typeof _wnd_delete_oss_file){let e=static_path+"js/file.min.js"+cache_suffix;await wnd_load_script(e)}return await _wnd_delete_oss_file(e,t,n)}async function wnd_render_filter(e,t,n){if("function"!=typeof _wnd_render_filter){let e=static_path+"js/filter.min.js"+cache_suffix;await wnd_load_script(e)}_wnd_render_filter(e,t,n)}function wnd_render_menus(e,t,n=!1){let a={template:'\n<aside class="menu">\n<template v-for="(menu, menu_index) in menus">\n<ul class="menu-list">\n<a v-if="menu.label" v-html="build_label(menu)" @click="expand(menu_index)"></a>\n<li v-show="menu.expand"><ul><li v-for="(item, item_index) in menu.items">\n<a :href="item.href" @click="active(menu_index, item_index)" :class="item.class" v-html="item.title"></a></li>\n</ul></li>\n</ul>\n</template>\n</aside>',data:()=>({menus:t}),methods:{build_label:function(e){return e.label+"&nbsp;"+(e.expand?'<i class="fas fa-angle-up"></i>':'<i class="fas fa-angle-down"></i>')},active:function(e,t){for(let n=0;n<this.menus.length;n++){const a=this.menus[n];for(let s=0;s<a.items.length;s++){const i=a.items[s];i.class=s!=t||e!==n?"":"is-active"}}n&&wnd_menus_side_toggle(!0)},expand:function(e){for(let t=0;t<this.menus.length;t++){const n=this.menus[t];n.expand=e===t&&!n.expand}},get_container:function(){return s.id?"#"+s.id:""}},mounted(){t||axios({method:"get",url:wnd_query_api+"/wnd_menus",params:{in_side:n},headers:{Container:this.get_container()}}).then(e=>{this.menus=e.data.data,t=e.data.data,wnd_loading(this.get_container(),!0)})}},s=document.querySelector(e);Vue.createApp(a).mount(e)}function wnd_query(e,t,n={}){return axios({method:"get",url:wnd_query_api+"/"+e,params:t,headers:n}).then(function(e){return e.data})}function wnd_ajax_embed(e,t,n={},a=""){let s=document.querySelector(e);funTransitionHeight(s),axios({method:"get",url:wnd_module_api+"/"+t,params:Object.assign({ajax_type:"embed"},n),headers:{Container:e}}).then(function(t){return void 0===t.data.status?(console.log(t),!1):t.data.status<=0?(wnd_inner_html(s,'<div class="message is-danger"><div class="message-body">'+t.data.msg+"</div></div>"),funTransitionHeight(s,trs_time),!1):("form"==t.data.data.type?wnd_render_form(e,t.data.data.structure):"filter"==t.data.data.type?wnd_render_filter(e,t.data.data.structure):(wnd_inner_html(s,t.data.data.structure),funTransitionHeight(s,trs_time)),void(a&&("function"==typeof a?a(t.data):window[a](t.data))))})}function wnd_ajax_modal(e,t={},n=""){wnd_alert_modal(loading_el,!1),axios({method:"get",url:wnd_module_api+"/"+e,params:Object.assign({ajax_type:"modal"},t)}).then(function(e){return void 0===e.data.status?(console.log(e),!1):e.data.status<=0?(wnd_alert_modal('<div class="message is-danger"><div class="message-body">'+e.data.msg+"</div></div>"),!1):("form"==e.data.data.type?wnd_render_form("#modal .modal-entry",e.data.data.structure,"box"):"filter"==e.data.data.type?wnd_render_filter("#modal .modal-entry",e.data.data.structure,"box"):wnd_alert_modal(e.data.data.structure),void(n&&("function"==typeof n?n(e.data):window[n](e.data))))})}function wnd_ajax_action(e,t={},n={}){return axios({method:"POST",url:wnd_action_api+"/"+e,data:t,headers:n}).then(function(e){return void 0===e.data.status?(console.log(e),!1):e.data})}function wnd_alert_modal(e,t=!0){wnd_reset_modal();let n=document.querySelector("#modal"),a=n.querySelector(".modal-entry");n.classList.add("is-active"),t&&a.classList.add("box"),wnd_inner_html(a,e),funTransitionHeight(a,trs_time)}function wnd_alert_msg(e,t=0){if(wnd_alert_modal(e,!1),t>0){let e=null;e=setInterval(function(){clearInterval(e),wnd_reset_modal()},1e3*t)}}function wnd_alert_notification(e,t=""){t=t?"notification "+t:"notification",wnd_alert_modal('<div class="notification is-light is-danger">'+e+"</div>",!1)}function wnd_reset_modal(){let e=document.querySelector("#modal");if(e){let t=e.querySelector("#modal .modal-entry");t.innerHTML="",e.classList.remove("is-active","wnd-gallery"),t.classList.remove("box"),t.style.height="0"}else wnd_append("body",'\n<div id="modal" class="modal">\n<div class="modal-background"></div>\n<div class="modal-content">\n<div class="modal-entry content"></div>\n</div>\n<button class="modal-close is-large" aria-label="close"></button>\n</div>')}function wnd_ajax_submit(e,t=!1){let n=e.closest("form"),a=n.getAttribute("route");if(n.addEventListener("submit",function(){e.classList.add("is-loading")}),!a)return!1;for(let t=0,a=n.elements.length;t<a;t++){if(!n.elements[t].hasAttribute("required")||n.elements[t].hasAttribute("disabled"))continue;let a=!1;if(["radio","checkbox"].includes(n.elements[t].type)){let e=n.elements[t].name,s=n.querySelector('[name="'+e+'"]:checked');s||(a=!0)}else("select"!=n.elements[t].type||n.elements[t].selected)&&n.elements[t].value||(a=!0);if(a)return n.elements[t].classList.add("is-danger"),wnd_form_msg(n,wnd.msg.required,"is-danger"),e.classList.remove("is-loading"),!1}let s=new FormData(n),i={};if("get"==n.method)for(const e of s.keys())i[e]=s.get(e);axios({method:n.method,url:n.action,data:s,params:i}).then(function(s){form_info=wnd_handle_response(s.data,a,n.parentNode),form_info.msg&&wnd_form_msg(n,form_info.msg,form_info.msg_class),[3,4,6].includes(s.data.status)||e.classList.remove("is-loading"),t&&(t.value="")})}function wnd_form_msg(e,t,n){let a=e.querySelector(".form-message");if(!a)return!1;a.style.display="",a.className=`form-message message ${n}`;let s=a.querySelector(".message-body");s?s.innerHTML=t:a.innerHTML='<div class="message-body">'+t+"</div>",modal_entry=e.closest("#modal .modal-entry"),modal_entry?funTransitionHeight(modal_entry,trs_time):funTransitionHeight(e.parentNode,trs_time)}function wnd_handle_response(e,t,n){let a={msg:"",msg_class:""};if("module"==t)return e.status>=1?(wnd_alert_modal(loading_el,!1),"form"==e.data.type?wnd_render_form("#modal .modal-entry",e.data.structure,"box"):"filter"==e.data.type?wnd_render_filter("#modal .modal-entry",e.data.structure,"box"):wnd_alert_modal(e.data.structure)):wnd_alert_modal(e.msg),a;switch(a.msg=e.msg,a.msg_class=e.status<=0?"is-danger":"is-success",e.status){case 1:case 8:break;case 2:a.msg=e.msg+'<a href="'+e.data.url+'" target="_blank">&nbsp;'+wnd.msg.view+"</a>";break;case 3:a.msg=wnd.msg.waiting,window.location=e.data.redirect_to;break;case 4:void 0!==e.data&&void 0!==e.data.waiting||window.location.reload();break;case 5:wnd_alert_msg('<div class="has-text-centered"><h5 class="has-text-white">'+e.msg+"</h5></div>",1);break;case 6:a.msg=wnd.msg.downloading,window.location=e.data.redirect_to;break;case 7:wnd_inner_html(n,e.data);break;case-1:wnd_alert_modal(e.msg),a.msg=!1}return-1!=e.status&&n.scrollIntoView({behavior:"smooth"}),a}function wnd_send_code(e,t=""){let n=e.closest("form"),a=n.querySelector("input[name='_user_user_email']")||n.querySelector("input[name='phone']"),s=a.value||"";if(!s)return a.classList.add("is-danger"),!1;e.classList.add("is-loading");let i=e.dataset;i.device=s;let d="is-success";axios({url:wnd_action_api+"/"+i.action,method:"POST",data:i}).then(function(a){if(a.data.status<=0)d="is-danger";else{e.disabled=!0,e.textContent=wnd.msg.send_successfully;let t=i.interval,n=null;n=setInterval(function(){t<=1?(clearInterval(n),e.textContent=wnd.msg.try_again,e.disabled=!1):(t--,e.textContent=t)},1e3)}wnd_form_msg(n,a.data.msg,d),e.classList.remove("is-loading"),t&&(e.dataset[t]="")})}function wnd_update_views(e,t=3600){if(wnd_is_spider())return;let n=Date.parse(new Date)/1e3,a=localStorage.getItem("wnd_views")?JSON.parse(localStorage.getItem("wnd_views")):[],s=10,i=!0;for(let s=0,d=a.length;s<d;s++)if(a[s].post_id==e){a[s].timestamp<n-t?(a[s].timestamp=n,i=!0):i=!1;break}if(i){let t={post_id:e,timestamp:n};a.unshift(t)}a.length>s&&(a.length=s),i&&axios({url:wnd_action_api+"/common/wnd_update_views",method:"POST",data:{post_id:e}}).then(function(e){1==e.data.status&&localStorage.setItem("wnd_views",JSON.stringify(a))})}function wnd_ajax_click(e){let t=!!e.closest(".modal.is-active");if(!can_click_ajax_link)return;if(can_click_ajax_link=!1,setTimeout(function(){can_click_ajax_link=!0},1e3),1==e.dataset.disabled)return void wnd_alert_msg(wnd.msg.waiting,1);let n=0!=e.dataset.is_cancel,a=n?e.dataset.cancel:e.dataset.action,s=JSON.parse(e.dataset.args);s._wnd_sign=e.dataset.sign,axios({url:wnd_action_api+"/"+a,method:"POST",data:s}).then(function(n){switch(0!=n.data.status&&a==e.dataset.action?e.dataset.cancel?e.dataset.is_cancel=1:e.dataset.disabled=1:e.dataset.is_cancel=0,n.data.status){case 1:e.innerHTML=n.data.data;break;case 2:case 0:n.data.data&&(e.innerHTML=n.data.data),t||wnd_alert_msg('<div class="has-text-centered"><h5 class="has-text-white">'+n.data.msg+"</h5></div>",2);break;case 3:wnd_alert_msg(wnd.msg.waiting),window.location.href=n.data.data.redirect_to;break;case 4:wnd_reset_modal(),window.location.reload()}})}function wnd_load_menus_side(){menus_side?wnd_menus_side_toggle():(wnd_append("body",'\n<div id="wnd-side-container"></div>\n<div id="wnd-side-background" class="modal" style="z-index:31;">\n<div class="modal-background"></div>\n</div>'),wnd_ajax_embed("#wnd-side-container","common/wnd_menus_side",{},"wnd_menus_side_toggle"))}function wnd_menus_side_toggle(e=!1){document.querySelectorAll(".wnd-side-burger").forEach(function(e){e.classList.toggle("is-active")}),document.querySelector("#wnd-side-background").classList.toggle("is-active"),menus_side=menus_side||document.querySelector("#wnd-side-container").firstChild,menus_side.style.transition="all "+2*trs_time+"ms",1!=e?menus_side.style.left?menus_side.style.left="0px":(menus_side.style.left="-"+menus_side.offsetWidth+"px",setTimeout(()=>{menus_side.style.left="0px"},trs_time-50)):menus_side.style.left="-"+menus_side.offsetWidth+"px"}let wnd_module_api=wnd.rest_url+wnd.module_api,wnd_action_api=wnd.rest_url+wnd.action_api,wnd_posts_api=wnd.rest_url+wnd.posts_api,wnd_users_api=wnd.rest_url+wnd.users_api,wnd_query_api=wnd.rest_url+wnd.query_api,wnd_endpoint_api=wnd.rest_url+wnd.endpoint_api,this_src=document.currentScript.src,static_path=this_src.substring(0,this_src.lastIndexOf("/js/")+1),cache_suffix=static_path.includes("//cdn.jsdelivr.net/gh")?"":"?ver="+wnd.ver;var trs_time=100,menus_side=!1;if(void 0===loading_el)var loading_el='<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>';axios.defaults.withCredentials=!0,wnd.disable_rest_nonce&&!wnd.is_admin||(axios.defaults.headers["X-WP-Nonce"]=wnd.rest_nonce),axios.interceptors.request.use(function(e){return e.headers.Container&&wnd_loading(e.headers.Container),e});var can_click_ajax_link=!0,funTransitionHeight=function(e,t){if(void 0===window.getComputedStyle)return;let n=window.getComputedStyle(e).height;e.style.transition="none",e.style.height="auto";let a=window.getComputedStyle(e).height;e.style.height=n,e.offsetWidth=e.offsetWidth,t&&(e.style.transition="height "+t+"ms"),e.style.height=a,e.style.overflow="hidden"};document.addEventListener("click",function(e){if(e.target.classList.contains("modal-close"))return void wnd_reset_modal();let t=e.target.closest("a");if(t&&t.classList.contains("ajax-link"))return void wnd_ajax_click(t);let n=e.target.closest("div");if(n)if(n.classList.contains("wnd-side-burger"))n.classList.contains("is-active")?wnd_menus_side_toggle(!0):wnd_load_menus_side();else if(n.parentElement&&"wnd-side-background"==n.parentElement.id)wnd_menus_side_toggle(!0);else if(n.classList.contains("modal-background"))wnd_reset_modal();else if(n.classList.contains("hide-pw")){let e=n.querySelector("i"),t=e.classList.contains("fa-eye")?"fa-eye-slash":"fa-eye",a="fa-eye"==t?"fa-eye-slash":"fa-eye";e.classList.remove(a),e.classList.add(t);let s=n.closest("div.control").querySelector("input");s.type="fa-eye"==t?"password":"text"}else;});